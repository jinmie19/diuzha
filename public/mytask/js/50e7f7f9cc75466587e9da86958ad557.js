var agilelite,$native,$util;window.PointerEvent=undefined;agilelite=function(n){var t=function(){this.$=n;this.options={version:"2.6.1",clickEvent:"ontouchstart"in window?"tap":"click",agileReadyEvent:"agileready",agileStartEvent:"agilestart",readyEvent:"ready",backEvent:"backmenu",complete:!1,crossDomainHandler:null,showPageLoading:!0,viewSuffix:".html",lazyloadPlaceholder:"",usePageParam:!1,autoInitCom:!0,iScrollOptions:{},classPre:"agile-"};this.pop={hasAside:!1,hasPop:!1}},r={},i,u;return t.prototype.register=function(n,t){this[n]=t;t.launch&&(r[n]=t.launch)},i=function(){for(var t in r)try{r[t]()}catch(i){console.log(i)}agilelite.options.complete=!0;n(document).trigger(agilelite.options.agileReadyEvent)},t.prototype.launch=function(t){if(agilelite.options.complete!=!0){u.apply(this);n.extend(this.options,t);var r=this;if(this.options.readyEvent)if(n(document)[this.options.readyEvent])n(document)[this.options.readyEvent](i);else n(document).on(this.options.readyEvent,i);else i()}},u=function(){var n=agilelite.util.parseURL(location.href),i=agilelite.JSON.stringify(n.getQueryobject()),t=location.hash.replace("#","");this.pageInfo=agilelite.util.decodeHash(t)},t.prototype.noConflict=function(){return this},window.A?new t:window.A=new t}(window.Zepto||window.jQuery||window.$),function(n){var t={"default":{selector:'[data-toggle="view"]',handler:function(i,r){function c(n,t){var i=n.data("role")||"",r=function(n){n.hasClass("active")||n.addClass("active");n.attr("__init_controller__")||(n.attr("__init_controller__",!0),n.trigger(i+"load"));n.trigger(i+"show")},u=function(n){n.removeClass("active").trigger(i+"hide")};if(f.isToggle||$el.data("istoggle")){n.hasClass("active")?u(n):r(n);return}r(n);t&&t.length>0&&u(t)}function l(n){var t=n.data("transition")||f.transition;t&&n.data("transition",t)}function h(){var t=u.data("role"),i=t?'[data-role="'+t+'"].active':".active",n;u.data("url",e.getURL());e.getQueryobject()&&u.data("params",agilelite.JSON.stringify(e.getQueryobject()));u.hasClass("active")?(c(u),f.complete&&f.complete(u,{result:"thesame"})):(n=u.siblings(i),l(n),l(u),agilelite.anim.change(n,u,!1,function(){c(u,n)}),f.complete&&f.complete(u,{result:"success"}))}$el=n(r);var a=$el.data("toggle"),e=agilelite.util.parseURL(i),o=e.getHashobject(),f=t[a]||{},u=n(o.tag),s=n(f.container);if(u.length==0){if(s.length==0){f.complete&&f.complete(u,{result:"nocontainer"});return}if($el.attr("data-useTemplate")){u=n(f.template.replace("{id}",o.tag.replace("#","")));s.append(u);h();return}agilelite.options.showPageLoading&&agilelite.showMask();agilelite.util.getHTML(e.getURL(),function(t){if(agilelite.options.showPageLoading&&agilelite.hideMask(),!t){f.complete&&f.complete(u,{result:"requesterror"});return}u=n(t);s.append(u);u=n(o.tag);h()})}else h()}},html:{selector:'[data-toggle="html"]',handler:function(n){var t=agilelite.util.parseURL(n);location.href=t.getURL()}},section:{selector:'[data-toggle="section"]',container:"#section_container",transition:"slide",template:'<section id="{id}" data-role="section"><\/section>',history:[],complete:function(i,r){var u=function(i,r){var f=agilelite.util.parseURL(i).getHashobject(),u=t.section.history,e,o;(u.length==0||u.length>1&&n(u[0].tag).data("cache")==!1||n(u[0].tag).data("cache")=="false")&&(r=!0);e=i;agilelite.options.usePageParam&&(o={params:agilelite.Component.params(i),hash:i.replace("#",""),url:n(i).data("url")},e="#"+agilelite.util.encodeHash(agilelite.JSON.stringify(o)));r?(u.shift(f),window.history.replaceState(f,"",e)):window.history.pushState(f,"",e);u.unshift(f)},f="#"+i.attr("id");r=r||{};r.result=="thesame"?u(f,!0):r.result=="success"&&u(f,!1)}},article:{selector:'[data-toggle="article"]',container:'[data-role="section"].active',template:'<article id="{id}" data-role="article"><\/article>'},modal:{selector:'[data-toggle="modal"]',container:"body",template:'<div id="{id}" data-role="modal" class="modal"><\/div>',isToggle:!0},aside:{selector:'[data-toggle="aside"]',container:"#aside_container",handler:function(n){n?agilelite.Aside.show(n):agilelite.Aside.hide()}},back:{selector:'[data-toggle="back"]',handler:function(i){var r,u;if(arguments.length==0||typeof i=="string"||typeof i=="undefined"||typeof i=="object"){n(document).trigger(agilelite.options.backEvent,typeof i=="object"?[i]:null);return}if((r=t.section.history,u=agilelite.options.usePageParam?agilelite.JSON.parse(agilelite.util.decodeHash(location.hash.replace("#",""))):{hash:location.hash},u&&"#"+u.hash!=r[0].tag)&&!(r.length<2)){var f=n(r.shift().tag),e=n(r[0].tag),o=f.data("back-params");o&&e.data("params",o);n(document).trigger("sectiontransition",[f,e])}}},page:{selector:'[data-toggle="page"]',handler:function(t){var i=n(t),r=i.parent(),u=r.parent(),f=r.children("[data-role]").index(i),e=agilelite.Slider(u);e.index(f)}},scrollTop:{selector:'[data-toggle="scrollTop"]',handler:function(t){var i=n(t),r;i.data("scroll")?(r=agilelite.Scroll(t),r.scrollTo(0,0,1e3,IScroll.utils.ease.circular)):i.animate({scrollTop:0},200)}}},i={},r;i.add=function(i){n.extend(t,i)};i.get=function(n){return n?t[n]:t};r=function(){for(var r in t)(function(r){i[r]=function(i,u){var f=r,e=u?n(u):n('<a data-toggle="'+r+'" href="'+i+'"><\/a>'),o=t[f]?t[f].handler?f:"default":"default";t[o].handler(i,e)};n(document).on(agilelite.options.clickEvent,t[r].selector,function(){n("input:focus,textarea:focus").blur();var t=n(this).data("toggle"),r=n(this).attr("href")||"#";return(i[t]||i["default"])(r,n(this)),!1})})(r)};i.launch=function(){r()};agilelite.register("Controller",i)}(agilelite.$),function(n){var i={},t={"default":{selector:'[data-role="view"]',handler:function(i,r){var u=n(i),f,o,e;if(r=r=="default"?u.data("role"):r,f=t[r]||{},f.isToggle||u.data("istoggle")){u[u.hasClass("active")?"removeClass":"addClass"]("active");return}u.hasClass("active")||(e='[data-role="'+r+'"].active',o=f.container?u.parents(f.container).first().find(e):u.siblings(e+".active"),u.addClass("active"),o.removeClass("active"))}},tab:{selector:'[data-role="tab"]',handler:function(i,r){var f=n(i),u=f.data("toggle");u&&u!="section"&&u!="modal"&&u!="html"&&t["default"].handler(i,r)}},scroll:{selector:'[data-role="article"].active',event:"articleload",handler:function(t){var e={verticle:{},horizontal:{scrollbars:!1,scrollX:!0,scrollY:!1,bindToWrapper:!0},scroll:{scrollX:!0,scrollY:!0},pulldown:{},pullup:{},pull:{}},o=function(n){var t=e[n.data("scroll")];agilelite.Scroll("#"+n.attr("id"),t).refresh()},s=function(n){agilelite.Refresh("#"+n.attr("id"),e[n.data("scroll")]).refresh()},f=n(t||this),r=f.data("scroll"),u,i;for((r=="verticle"||r=="horizontal"||r=="scroll")&&o(f),(r=="pulldown"||r=="pullup"||r=="pull")&&s(f),u=f.find('[data-scroll="verticle"],[data-scroll="horizontal"],[data-scroll="scroll"]'),i=0;i<u.length;i++)(function(n){setTimeout(function(){o(n)},100)})(n(u[i]));for(u=f.find('[data-scroll="pulldown"],[data-scroll="pullup"],[data-scroll="pull"]'),i=0;i<u.length;i++)(function(n){setTimeout(function(){s(n)},100)})(n(u[i]))}},formcheck:{selector:'[data-role="article"].active',event:"articleload",handler:function(t){var i=n(t),f=function(n){n.removeAttr("href");n.on(agilelite.options.clickEvent,function(t){var i=n.data("__isinscroll__"),r,u;typeof i=="undefined"&&(i=n.closest("[data-scroll]").length==0?!1:!0,n.data("__isinscroll__",i));r=t.target.tagName.toLowerCase();(i&&r!="input"||!i&&r!="input"&&r!="label")&&(u=n.find("input")[0],u.checked=u.type=="radio"?!0:!u.checked)})},u,r;if(i.data("role")=="checkbox"||i.data("role")=="radio")f(i);else for(u=i.find('[data-role="checkbox"],[data-role="radio"]'),r=0;r<u.length;r++)f(n(u[r]))}},toggle:{selector:'[data-role="article"].active',event:"articleload",handler:function(t){var r=n(t),u=function(n,t){var r=t.data("on-value"),u=t.data("off-value"),i=n?r:u;return typeof i=="undefined"?"":i},e=function(t){var i=t.hasClass("active"),r;if(t.find("div.toggle-handle").length>0){t[i?"removeClass":"addClass"]("active");t.find('input[data-com-refer="toggle"]').val(u(i?!1:!0,t));return}r=t.attr("name");t.append('<input type="hidden" data-com-refer="toggle" '+(r?'name="'+r+'" ':"")+' value="'+u(i,t)+'"/>');t.append('<div class="toggle-handle"><\/div>');t.on(agilelite.options.clickEvent,function(){var i=n(this),r=u(t.hasClass("active")?!1:!0,t);return i.toggleClass("active").trigger("datachange",[r]),i.find("input").val(r),!1})},f,i;if(r.data("role")=="toggle")e(r);else for(f=r.find('[data-role="toggle"]'),i=0;i<f.length;i++)e(n(f[i]))}},lazyload:{selector:'[data-role="article"].active',event:"articleload",handler:function(t){var u=n(t),e=function(t){var f=t.attr("placeholder")||agilelite.options.lazyloadPlaceholder,o,r;!t.attr("src")&&f&&t.attr("src",f);var u=agilelite.util.script(t.data("source")),e=t.offset().top,s=n(window).height()+100;e<0||e>s||(o=t.data("type"),o=="base64"?agilelite.ajax({url:u,success:function(n){i(t,n)},isBlock:!1}):(r=new Image,r.src=u,r.complete?(i(t,u),r=null):(r.onload=function(){i(t,u);r=null},r.onerror=function(){i(t,f||"");r=null})))},i=function(n,t){n.data("source")&&(agilelite.anim.run(n,"fadeOut",function(){n.css("opacity","0");n[0].onload=function(){agilelite.anim.run(n,"fadeIn",function(){n.css("opacity","1");var t=n.closest('[data-role="slider"]');t.hasClass("active")&&agilelite.Slider(t).refresh();agilelite.Component.scroll(n.closest("[data-scroll]"))})};n.attr("src",t)}),n.removeAttr("data-source"))},f,r;if(u.data("source"))e(u);else for(f=u.find("img[data-source]"),r=0;r<f.length;r++)e(n(f[r]))}},scrollTop:{selector:'[data-role="article"].active',event:"articleload",handler:function(t){var f=function(t){var i;t.on(agilelite.options.clickEvent,function(){t.removeClass("active")});if($target=n(t.attr("href")),$target.data("scroll")){i=agilelite.Scroll(t.attr("href"));i.on("scrollEnd",function(){t[this.y<-120?"addClass":"removeClass"]("active")})}else{i=$target;i.on("scrollEnd",function(){t[i.scrollTop()>120?"addClass":"removeClass"]("active")});agilelite.util.jquery.scrollEnd(i)}},r=n(t),u,i;if(r.data("role")=="scrollTop")f(r);else for(u=r.find('[data-role="scrollTop"]'),i=0;i<u.length;i++)f(n(u[i]))}},pictureShow:{type:"function",handler:function(t){var r=t.id,e=t.index||0,u=t.list,i=[],f;for(i.push('<section id="'+r+'" data-role="section" data-cache="false" style="background:#000;">'),i.push('<header class="picture_show_header">'),i.push(t.header||'<a data-toggle="back" href="#" style="float:right;color:#fff;text-align:center; padding:8px; font-size:18px;">X<\/a>'),i.push("<\/header>"),i.push('<article id="'+r+'_article" data-role="article" class="active" style="overflow:hidden;background:rgba(255, 255, 255, 0.1) none repeat scroll 0 0 !important;">'),i.push('<div id="'+r+'_slide" data-role="slider" class="full" style="overflow: hidden;"><div class="scroller">'),f=0;f<u.length;f++)i.push('<div class="slide" style="padding-top:100px;">'),i.push('<img data-source="'+u[f].imgURL+'" class="full-width"/>'),i.push("<\/div>");i.push("<\/div><\/div>");i.push("<\/article>");i.push('<div class="picture_show_footer" style="position:relative;bottom:0px;left:0px;right:0px;padding:8px;color:#fff;min-height:140px;background:#111;">');i.push('<div><span style="float:left;font-size:20px;">'+t.title+'<\/span><p class="picture_show_num" style="float:right;"><\/p><\/div>');i.push('<div style="clear:both;line-height:20px;"><span class="picture_show_content"><\/span><\/div>');i.push("<\/div>");i.push("<\/section>");n("#section_container").append(i.join(""));agilelite.Controller.section("#"+r);var o=n("#"+r+" .picture_show_num"),s=n("#"+r+" .picture_show_content"),h=n("#"+r+" .picture_show_header"),c=n("#"+r+" .picture_show_footer"),l=agilelite.Slider("#"+r+"_slide",{dots:"hide",change:function(n){o.html('<span style="font-size:18px;">'+(n+1)+"<\/span>/"+u.length);s.html(u[n].content||t.title)}});l.index(e);n("#"+r+"_article").on(agilelite.options.clickEvent,function(){return h.toggle(),c.toggle(),!1})}}};i.add=function(i){n.extend(t,i)};i.get=function(n){return n?t[n]:t};i.initComponents=function(i){var u=n(i),r;for(r in t)t[r].type!="function"&&r!="default"&&agilelite.Component[r](u)};_makeHandler=function(){for(var r in t){if(t[r].type=="function"){i[r]=t[r].handler;continue}(function(r){if(i[r]=function(n){var i=r,u=t[i]?t[i].handler?i:"default":"default";return t[u].handler(n,i)},t[r].selector)n(document).on(t[r].event||agilelite.options.clickEvent,t[r].selector,function(){var n=t[r].handler?r:"default";return t[n].handler(this,r),!1})})(r)}};i.params=function(t){return agilelite.JSON.parse(n(t).data("params"))||{}};i.isInit=function(n){return n.data("com-init")?!0:(n.data("com-init","init"),!1)};i.getObject=function(t,r){var s=n(r),u={},f=i.get(t),e,o;if(!f||!f.extend)return u;e=f.extend;for(o in e)(function(n){u[n]=function(){return e[n].apply(s,arguments)}})(o);return u};i.launch=function(){_makeHandler()};agilelite.register("Component",i)}(agilelite.$),function(n){var t={};t.classes={empty:[["empty","empty"],["empty","empty"]],slide:[["slideLeftOut","slideLeftIn"],["slideRightOut","slideRightIn"]],cover:[["","slideLeftIn"],["slideRightOut",""]],slideUp:[["","slideUpIn"],["slideDownOut",""]],slideDown:[["","slideDownIn"],["slideUpOut",""]],popup:[["","scaleIn"],["scaleOut",""]],flip:[["slideLeftOut","flipOut"],["slideRightOut","flipIn"]]};t.addClass=function(i){n.extend(t.classes,i||{})};t.run=function(t,i,r){var t=n(t),u="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";if(t.length==0){r&&r();return}if(typeof i=="object"){t.animate(i,250,"linear",function(){r&&r()});return}i=(i||"empty")+" anim";t.addClass(i).one(u,function(){t.removeClass(i);r&&r();t.unbind(u)})};t.css3=function(t,i,r){t=n(t);var u="webkitTransitionEnd otransitionend transitionend";t.addClass("comm_anim").css(i).one(u,function(){t.removeClass("comm_anim");r&&r();t.unbind(u)})};t.change=function(i,r,u,f){var h=n(i),e=n(r),o,s;if(h.length+e.length==0){f&&f();return}if(o=e.data("transition"),!t.classes[o]){f&&f();return}s=t.classes[o][u?1:0];t.run(h,s[0]);t.run(e,s[1],function(){f&&f()})};agilelite.register("anim",t)}(agilelite.$),function(n){var t=function(t){var i=t.success,r=t.error,e="__ajax_random__="+Math.random(),u,f;t.url+=(t.url.split(/\?|&/i).length==1?"?":"&")+e;u=function(n){i&&i(n)};f=function(){r&&r()};t.success=u;t.error=f;n.ajax(t)};agilelite.register("ajax",t)}(agilelite.$),function(){var n={},t,i,r;n.jquery={scrollEnd:function(n){var t,i=function(){t&&clearTimeout(t);t=null;t=setTimeout(function(){clearTimeout(t);t=null;n.trigger("scrollEnd")},100)};n.off("scroll",i).on("scroll",i)}};n.getCSSTransform=function(n){var t=n.css("transform"),i;return!t||t=="none"?[]:(i=new Function("return ["+t.replace(/matrix.([^\\)]+)./,"$1")+"];"),i())};n.script=function(t){t=(t||"").trim();var i=!1;return t=t.replace(/\$\{([^\}]*)\}/g,function(s,s1){try{return i=!0,eval(s1.trim())}catch(e){return""}}),i?n.script(t):t};n.provider=function(n,t){return n=(n||"").trim(),n.replace(/\$\{([^\}]*)\}/g,function(n,i){return t[i.trim()]||""})};t=function(n){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Pathname:8,URL:0,Querystring:9,Fragment:10,Filename:-1,Queryobject:-1,Hashobject:-1};this._values={};this._regex=null;this.version=.1;this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/;for(var t in this._fields)this["get"+t]=this._makeGetter(t);typeof n!="undefined"&&this._parse(n)};t.prototype.setURL=function(n){this._parse(n)};t.prototype._initValues=function(){for(var n in this._fields)this._values[n]=""};i=function(n){return n.indexOf("file:")==0&&(n=n.replace(/file:\/*/,"")),n};t.prototype._path=function(n){var r=new t(i(location.href.split(/\?\#/)[0])),f=r.getProtocol()+"://"+r.getHost()+(r.getPort()?":"+r.getPort():""),u;return n=i(n),n.indexOf("/")==0?f+n:(u=r.getPathname().split("/"),u.length-=n.split("../").length,f+u.join("/")+"/"+n.replace(/[\.]{1,2}\//g,""))};t.prototype._parse=function(n){var t,r;if(this._initValues(),n=i(n),t=this._regex.exec(n),!t&&(n=this._path(n),t=this._regex.exec(n),!t)){console.log("url invalid:"+n);return}for(r in this._fields)typeof t[this._fields[r]]!="undefined"&&(this._values[r]=t[this._fields[r]])};t.prototype._makeGetter=function(n){return function(){var i,t,r;if(n=="Filename")return i=this._values.URL.split("?")[0].split("/"),i[i.length-1].split(".")[0];if(n=="Queryobject"){var e=this._values.Querystring||"",u=e.split("&"),f={};for(t=0;t<u.length;t++)r=u[t].split("="),f[r[0]]=r[1];return f}return n=="Hashobject"?{url:this.getURL(),hash:"#"+(this.getFragment()||this.getFilename()),tag:"#"+(this.getFragment()||this.getFilename()),query:this.getQuerystring(),param:this.getQueryobject()}:this._values[n]}};n.parseURL=function(i){return i=n.script(i||""),i.indexOf("#")==0&&(i=i.replace("#","")+(agilelite.options.viewSuffix?agilelite.options.viewSuffix:"")),new t(i)};n.isCrossDomain=function(t){if(!t||t.indexOf(":")<0)return!1;var i=n.parseURL(t);return i.getProtocol()?!(location.protocol.replace(":","")+location.host==i.getProtocol()+i.getHost()+":"+i.getPort()):!1};n.checkBoolean=function(){for(var n=0;n<arguments.length;n++)if(typeof arguments[n]=="boolean")return arguments[n];return!1};r=function(n){if(!n||n.indexOf(":")<0)return!1;var t=agilelite.util.parseURL(n);return t.getProtocol()?!(location.protocol.replace(":","")+location.host==t.getProtocol()+t.getHost()+":"+t.getPort()):!1};n.ajax=function(t){var u,i,e,f;t&&t.url&&(t.url=n.script(t.url),u=t.isBlock,t.dataType=(t.dataType||"text").toLowerCase(),i={url:t.url,timeout:2e4,type:t.type||"get",dataType:t.dataType,success:function(i){u&&agilelite.hideMask();t.success&&t.success(t.dataType=="text"?n.script(i):i)},error:function(){u&&agilelite.hideMask();t.error&&t.error(null)},reqCharset:t.reqCharset||"utf-8"},t.data&&(i.data=t.data),t.headers&&(i.headers=t.headers),e=r(t.url),f=agilelite.ajax,e&&(i.dataType=agilelite.options.crossDomainHandler?i.dataType:"jsonp",f=agilelite.options.crossDomainHandler||f),i.dataType.toLowerCase()=="jsonp"&&(i.jsonp=t.jsonp||"agilecallback"),u&&agilelite.showMask(),f(i))};n.getHTML=function(n,t){agilelite.ajax({url:n,type:"get",dataType:"text",success:function(n){t&&t(agilelite.util.script(n||""))},error:t})};n.readyAlarm=function(n,t,i){var u={},r;for(r in n){if(typeof n[r]!="function"){u[r]=n[r];continue}u[r]=function(r){return function(){try{return n[r].apply(this,arguments)}catch(u){console.log("提示","请在"+(i||agilelite.options.readyEvent)+"之后调用"+t+"."+r+"桥接函数")}}}(r)}return u};n.encodeHash=function(n){return encodeURIComponent(agilelite.Base64.encode(n))};n.decodeHash=function(n){return agilelite.Base64.decode(decodeURIComponent(n))};agilelite.register("util",n)}(agilelite.$),function(n){var t={},i;IScroll.utils.click=function(n){var t=n.target,i,r=/INPUT/i.test(t.tagName)&&/DATE|COLOR/i.test(t.getAttribute("type"));(r||!/(SELECT|INPUT|TEXTAREA)/i.test(t.tagName))&&(i=document.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,n.view,1,t.screenX,t.screenY,t.clientX,t.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),i._constructed=!0,t.dispatchEvent(i))};i=function(i,r){var f=n(i),o=f.attr("id"),u,c,s,h,e,l;if(f.length!=0&&o){if(t[o])return t[o]}else return null;c={scrollTop:"scrollTop",scrollBottom:"scrollBottom"};s={mouseWheel:!0,scrollbars:"custom",fadeScrollbars:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|IMG)$/}};s=n.extend(s,agilelite.options.iScrollOptions||{});n.extend(s,r||{});h=f.attr("data-scroll-options");h=typeof h!="object"?agilelite.JSON.parse(h):h;n.extend(s,h||{});IScroll.utils.isBadAndroid=!1;u=new IScroll(i,s);f.attr("__com_iscroll__",!0);f.off("touchmove.iscroll").on("touchmove.iscroll",'textarea[data-scroll-diabled="true"]',function(){u._execEvent("__setdiabled")}).off("touchend.iscroll blur.iscroll").on("touchend.iscroll blur.iscroll",'textarea[data-scroll-diabled="true"]',function(){u._execEvent("__setenabled")});u.on("__setdiabled",function(){this.enabled=!1});u.on("__setenabled",function(){this.enabled=!0});if(/AppleWebKit/i.test(window.navigator.appVersion)){l=f.closest('[data-role="section"], [data-role="modal"]');f.off("touchmove.bounce").on("touchmove.bounce",function(n){e&&(clearTimeout(e),e=null);(u.y>0||u.y<u.maxScrollY||u.x>0||u.x<u.maxScrollX)&&(e=setTimeout(function(){var r=l.height(),f=l.width(),i=n.originalEvent.targetTouches[0],t={x:i.pageX,y:i.pageY};(t.y<=0||t.y>=r||t.x<=0||t.x>=f)&&(u._end(n),u.refresh());clearTimeout(e);e=null},200))}).off("touchend.bounce").on("touchend.bounce",function(){e&&(clearTimeout(e),e=null)})}f.off("touchend.reset").on("touchend.reset",function(n){u._execEvent("__setenabled");u._end(n)});u.on("scrollEnd",function(){this.y==0?this._execEvent(c.scrollTop):this.y==this.maxScrollY&&this._execEvent(c.scrollBottom);agilelite.Component.lazyload(f)});t[o]=u;u.on("destroy",function(){delete t[o]});return u.refresh(),f.trigger("scrollInit"),t[o]};agilelite.register("Scroll",i)}(agilelite.$),function(n){function i(i,r){var l=n(i),c=l.attr("id");if(t[c])return t[c];var b=l.children().first(),h,r=r||{},a=l.data("scroll"),e,v,o,y,p,w,s=-1,u={id:"agile-pulldown",iconStyle:"agile-pulldown-icon",labelStyle:"agile-pulldown-label",normalLabel:"下拉刷新",releaseLabel:"释放加载",refreshLabel:"加载中，请稍后",normalStyle:"",releaseStyle:"release",refreshStyle:"refresh",callback:null,callbackEvent:"pulldown"},f={id:"agile-pullup",iconStyle:"agile-pullup-icon",labelStyle:"agile-pullup-label",normalLabel:"上拉刷新",releaseLabel:"释放加载",refreshLabel:"加载中，请稍后",normalStyle:"",releaseStyle:"release",refreshStyle:"refresh",callback:null,callbackEvent:"pullup"};if((r.onPullDown||a=="pull"||a=="pulldown")&&(e=n('<div id="'+u.id+'"><div class="'+u.iconStyle+'"><\/div><div class="'+u.labelStyle+'">'+u.normalLabel+"<\/div><\/div>").prependTo(b),v=e.find("."+u.labelStyle),p=e.height(),e.attr("class","").hide(),u.callback=r.onPullDown||function(){}),(r.onPullUp||a=="pull"||a=="pullup")&&(o=n('<div id="'+f.id+'"><div class="'+f.iconStyle+'"><\/div><div class="'+f.labelStyle+'">'+f.normalLabel+"<\/div><\/div>").appendTo(b),y=o.find("."+f.labelStyle),w=o.height(),o.attr("class","").hide(),f.callback=r.onPullUp||function(){}),h=agilelite.Scroll("#"+c,{probeType:2}),!h)return null;h.on("scroll",function(){s==2||(e&&this.y>0&&this.y<p?(e.show().removeClass(u.releaseStyle),v.html(u.normalLabel),s=0):e&&this.y>=p?(e.addClass(u.releaseStyle),v.html(u.releaseLabel),s=1):o&&this.y<0&&-this.y>-(this.maxScrollY-w)?(o.addClass(f.releaseStyle),y.html(f.releaseLabel),s=1):o&&this.y<0&&-this.y>-this.maxScrollY&&-this.y<=-(this.maxScrollY-w)&&(o.show().removeClass(f.releaseStyle),y.html(f.normalLabel),s=0));this.y>0&&s>-1&&s<2&&e.css("margin-top",-Math.max(p-this.y,0))});h.on("scrollEnd",function(){s==1?(o&&o.hasClass(f.releaseStyle)?(o.removeClass(f.releaseStyle).addClass(f.refreshStyle),y.html(f.refreshLabel),s=2,f.callback.call(this),this._execEvent(f.callbackEvent)):e&&e.hasClass(u.releaseStyle)&&(e.removeClass(u.releaseStyle).addClass(u.refreshStyle),v.html(u.refreshLabel),s=2,u.callback.call(this),this._execEvent(u.callbackEvent)),window.setTimeout(function(){s==2&&h.refresh()},5e3)):h.refresh()});h.on("refresh",function(){s!=-1&&(s=-1,e&&(e.attr("class","").hide(),e.css("margin-top",0)),o&&o.attr("class","").hide())});h.setConfig=function(t){t=t||{};t.pullDownOpts&&(u=n.extend(u,t.pullDownOpts));t.pullUpOpts&&(f=n.extend(f,t.pullUpOpts))};t[c]=h;h.on("destroy",function(){delete t[c]});return l.trigger("refreshInit"),t[c]}var t={};agilelite.register("Refresh",i)}(agilelite.$),function(n){var t={},i=function(i,r){var f=n(i),l=f.attr("id"),e,v,u,a,y,nt;if(t[l])return t[l];e={auto:!1,change:function(){},dots:"",loop:!1};n.extend(e,r);f.children("scroller").children('[data-role="page"]').length>0&&(e.loop=!1,e.dots="hide");var h,s,k,c,p,o=0,w=1,tt=f.height(),d=function(){f.hasClass("active")||f.addClass("active");h=f.children(".scroller");s=h.children(".slide").remove(".clone");k=f.parent().width();c=s.length;h.css({height:"auto"});s.width(k);tt||(s.height()?f.height(s.height()):f.height("1px"));var n=c;e.loop&&(h.prepend(s.last().clone().addClass("clone").removeClass("active")).append(s.first().clone().addClass("clone").removeClass("active")),s=h.children(".slide"),n+=2);h.css({height:f.height(),width:k*n})},g=function(){var t,i;for(o=h.index(s.filter(".active")),o=o<0?0:o,w=b.getVIndex(o),f.children(".dots").remove(),t=[],t.push('<div class="dots">'),e.loop&&t.push('<div class="dotty hidden"><\/div>'),i=0;i<c;i++)t.push('<div class="dotty"><\/div>');e.loop&&t.push('<div class="dotty hidden"><\/div>');t.push("<\/div>");p=n(t.join("")).appendTo(f).addClass(e.dots).find(".dotty");n(p.get(w)).addClass("active").siblings(".active").removeClass("active");n(s.get(w)).addClass("active").siblings(".active").removeClass("active")},b={getVIndex:function(n){return e.loop?n<1?1:n>c?c:n:n},getTIndex:function(n){return e.loop?n+1:n},setTIndex:function(n){return e.loop?n-1:n}};d();g();v={scrollbars:!1,scrollX:!0,scrollY:!1,momentum:!1,snap:!0,keyBindings:!0,bounceEasing:"circular",probeType:2};u=agilelite.Scroll("#"+l,v);f.off("touchstart.slider").on("touchstart.slider",function(){var t=n(this).parent().closest('[data-role="slider"]');t.length!=0&&(a=agilelite.Slider(t[0]),a._execEvent("__setdiabled"))});f.off("touchmove.slider").on("touchmove.slider",function(){var t=n(this).parent().closest('[data-role="slider"]');t.length!=0&&(a=agilelite.Slider(t[0]),a._execEvent("__setdiabled"))});f.off("touchend.slider").on("touchend.slider",function(){a&&a._execEvent("__setenabled")});y="ready";u.on("scrollStart",function(){y=agilelite.util.getCSSTransform(h)[4]});u.on("scroll",function(){y!="ready"&&Math.abs(agilelite.util.getCSSTransform(h)[4]-y)>=40&&(f.closest("[data-scroll]").add(f.find("[data-scroll]:first")).each(function(){A.Scroll("#"+this.id)._execEvent("__setdiabled")}),y="ready")});u.on("scrollEnd",function(){o=this.currentPage.pageX;var t=n(s.get(o)),i=n(p.get(o));if(!t.hasClass("active")){if(e.loop){if(o<1){u.goToPage(c,0,0);u._execEvent("scrollEnd");return}if(o>c){u.goToPage(1,0,0);u._execEvent("scrollEnd");return}}e.change&&e.change.call(this,o-(e.loop?1:0));t.addClass("active").trigger("slidershow").siblings(".active").removeClass("active").trigger("sliderhide");i.addClass("active").siblings(".active").removeClass("active")}});f.off(agilelite.options.clickEvent+".slider").on(agilelite.options.clickEvent+".slider",function(){u.goToPage(o,0,v.snapSpeed)});u.on("init",function(){d();g();u._execEvent("scrollEnd")});u.trigger=function(n,t){u._execEvent(n,t)};u.index=function(){if(arguments.length==0)return b.setTIndex(o);u.goToPage(b.getTIndex(arguments[0]),0,arguments[1]||v.snapSpeed);u._execEvent("scrollEnd")};u.goToPage(w,0,0);u.refresh();e.auto&&(nt=setInterval(function(){o=o==c?0:o+1;u.goToPage(b.getVIndex(o),0,v.snapSpeed)},typeof e.auto=="boolean"?5e3:e.auto));t[l]=u;u.on("destroy",function(){p.remove();delete t[l];clearInterval(nt)});return t[l]};agilelite.register("Slider",i)}(agilelite.$),function(n){var f=n("#aside_container"),t=n("#section_container"),i=n("#section_container_mask"),r,u=function(){r=this};u.prototype.launch=function(){f.length==0&&(f=n('<div id="aside_container"><\/div>').appendTo("body"));t.length==0&&(t=n('<div id="section_container"><\/div>').appendTo("body"));i.length==0&&(i=n('<div id="section_container_mask"><\/div>').appendTo("#section_container"));i.on(agilelite.options.clickEvent,function(){return r.hide(),!1});i.on("swipeleft",function(){var t=n("#aside_container aside.active");t.data("position")=="left"&&r.hide()});i.on("swiperight",function(){var t=n("#aside_container aside.active");t.data("position")=="right"&&r.hide()})};u.prototype.show=function(r,u){var f=n(r).addClass("active"),h=f.data("transition"),c=f.data("position")||"left",v=f.data("show-close"),l=f.width(),a=(c=="left"?"":"-")+l+"px",e={aside:{},section:{}},o="run",s=function(){u&&u();f.trigger("asideshow")};f.data("role")=="aside"?(o="css3",e.aside["-webkit-transform"]="translateX(0%)",e.section["-webkit-transform"]="translateX("+a+")",f.css({transition:"all 250ms"}),t.css({transition:"all 250ms"})):(e.aside[c]=l+"px",e.section.left=a,f.css({transition:"none"}),t.css({transition:"none"}));h=="overlay"?agilelite.anim[o](f,e.aside,s):h=="reveal"?agilelite.anim[o](t,e.section,s):(agilelite.anim[o](f,e.aside),agilelite.anim[o](t,e.section,s));i.show();agilelite.pop.hasAside=!0};u.prototype.hide=function(r){var f=n("#aside_container aside.active"),s=f.data("transition"),h=f.data("position")||"left",c=h=="left"?"-100%":"100%",o=function(){f.removeClass("active");agilelite.pop.hasAside=!1;r&&r.call(this);f.trigger("asidehide")},u={aside:{},section:{}},e="run";f.data("role")=="aside"?(e="css3",u.aside["-webkit-transform"]="translateX("+c+")",u.section["-webkit-transform"]="translateX(0%)"):(u.aside[h]=0,u.section.left=0);s=="overlay"?agilelite.anim[e](f,u.aside,o):s=="reveal"?agilelite.anim[e](t,u.section,o):(agilelite.anim[e](f,u.aside),agilelite.anim[e](t,u.section,o));i.hide()};agilelite.register("Aside",new u)}(agilelite.$),function(n){var t={index:0},e={"default":["fadeIn","fadeOut"],top:["slideDownIn","slideUpOut"],bottom:["slideUpIn","slideDownOut"],center:["bounceIn","bounceOut"],left:["slideRightIn","slideLeftOut"],right:["slideLeftIn","slideRightOut"]},i=function(i){var o=t.index++,r={id:"__popup__"+o,html:"",pos:"default",css:{},isBlock:!1},f,u,e;if(n.extend(r,i),t[r.id])return t[r.id];f=t[r.id]=this;n('<div data-refer="'+r.id+'" class="'+agilelite.options.classPre+'popup-mask"><\/div><div id="'+r.id+'" class="'+agilelite.options.classPre+'popup"><\/div>').appendTo("body");u=n("#"+r.id);e=n('[data-refer="'+r.id+'"]');u.data("block",r.isBlock);u.css(r.css);u.addClass(agilelite.options.classPre+r.pos);u.html(r.html);e.on(agilelite.options.clickEvent,function(){return r.isBlock?!1:(f.close(),!1)});u.on(agilelite.options.clickEvent,'[data-toggle="popup"]',function(){return f.close(),!1});this.options=r;this.popup=u;this.mask=e;this._event={}},u,r,f;i.prototype.on=function(n,t){return this._event[n]?this._event[n].push(t):this._event[n]=[t],this};i.prototype.trigger=function(n,t){for(var r=this._event[n],i=0;i<(r||[]).length;i++)r[i].apply(this);return t&&t.apply(this),this};i.prototype.open=function(i){var u=this,r=this.popup,s=this.mask,f=this.options,h,o;return s.hasClass("active")?t[f.id]:(n("body").children("."+agilelite.options.classPre+"popup-mask.active").removeClass("active"),s.addClass("active").show(),r.show(),h=r.height(),f.pos=="center"&&r.css("margin-top","-"+h/2+"px"),o=e[f.pos],o?(u._status="opening",agilelite.anim.run(r,o[0],function(){u._status="opened"})):u._status="opened",this.trigger("popupopen"),i&&i.call(this),agilelite.pop.hasPop=r,agilelite.options.autoInitCom&&agilelite.Component.initComponents(r),this)};u=function(t){var i=this.popup,r=this.mask;i.remove();r.remove();this.trigger("popupclose");setTimeout(function(){t&&t()},200);$last=n("body").children("."+agilelite.options.classPre+"popup-mask").last().addClass("active");agilelite.pop.hasPop=$last.length==0?!1:n("body").children(".agile-popup").last()};i.prototype.close=function(n){var t=this;setTimeout(function(){t._close(n)},100)};i.prototype._close=function(n){if(this._status!="opening"){this.trigger("popupbeforeclose");var i=this,o=this.popup,s=this.mask,r=this.options,f=e[r.pos];f?agilelite.anim.run(o,f[1],function(){u.call(i,n)}):u.call(i,n);delete t[r.id]}};agilelite.register("Popup",i);r={};r.popup=function(n){return t[n.id]?t[n.id]:new i(n).open()};r.closePopup=function(n){var i=agilelite.pop.hasPop.attr("id");t[i]&&t[i].close(n)};r.alert=function(n,t,r){return t?typeof t=="function"&&(r=t,t=n,n="提示"):(t=n,n="提示"),new i({html:agilelite.util.provider('<div class="'+agilelite.options.classPre+'popup-title">${title}<\/div><div class="'+agilelite.options.classPre+'popup-content">${content}<\/div><div class="'+agilelite.options.classPre+'popup-handler"><a data-toggle="popup" class="'+agilelite.options.classPre+'popup-handler-ok">${ok}<\/a><\/div>',{title:n,content:t,ok:"确定"}),pos:"center",isBlock:!0}).on("popupclose",function(){r&&r()}).open()};r.confirm=function(t,r,u,f){typeof r=="function"&&(f=u,u=r,r=t,t="提示");var e=u;return new i({html:agilelite.util.provider('<div class="'+agilelite.options.classPre+'popup-title">${title}<\/div><div class="'+agilelite.options.classPre+'popup-content">${content}<\/div><div class="'+agilelite.options.classPre+'popup-handler"><a data-toggle="popup" class="'+agilelite.options.classPre+'popup-handler-cancel">${cancel}<\/a><a data-toggle="popup" class="'+agilelite.options.classPre+'popup-handler-ok">${ok}<\/a><\/div>',{title:t,content:r,cancel:"取消",ok:"确定"}),pos:"center",isBlock:!0}).on("popupclose",function(){e&&e.call(this)}).open(function(){var t=n(this.popup),i=this;t.find("."+agilelite.options.classPre+"popup-handler-ok").on(agilelite.options.clickEvent,function(){e=u});t.find("."+agilelite.options.classPre+"popup-handler-cancel").on(agilelite.options.clickEvent,function(){e=f})})};r.showMask=function(n,t){return typeof n=="function"&&(t=n,n="加载中"),new i({id:"popup_loading",html:agilelite.util.provider('<div><i class="'+agilelite.options.classPre+'popup-spinner"><\/i><p>${title}<\/p><\/div>',{title:n||"加载中"}),pos:"loading",isBlock:!0}).on("popupclose",function(){t&&t()}).open()};r.hideMask=function(){t.popup_loading&&t.popup_loading.close()};r.actionsheet=function(t,r){var u=['<div class="'+agilelite.options.classPre+'actionsheet"><div class="'+agilelite.options.classPre+'actionsheet-group">'],f=agilelite.options.classPre+"popup-actionsheet-normal",e=agilelite.options.classPre+"popup-actionsheet-cancel",r=r==!1?!1:r||!0;return n.each(t,function(n,t){u.push('<button data-toggle="popup" class="'+(t.css||f)+'">'+t.text+"<\/button>")}),u.push("<\/div>"),r&&u.push('<button data-toggle="popup" class="'+(typeof r=="string"?r:e)+'">取消<\/button>'),u.push("<\/div>"),new i({html:u.join(""),pos:"bottom",css:{background:"transparent"}}).open(function(){n(this.popup).find("button").each(function(i,r){n(r).on(agilelite.options.clickEvent,function(){t[i]&&t[i].handler&&t[i].handler.call(r)})})})};r.popover=function(t,r){var u=[],f;if(u.push('<div class="'+agilelite.options.classPre+'popover-angle"><\/div>'),typeof t=="object"){for(u.push('<ul class="'+agilelite.options.classPre+'popover-items">'),f=0;f<t.length;f++)u.push('<li data-toggle="popup" class="'+(t[f].css||"")+'">'+t[f].text+"<\/li>");u.push("<\/ul>")}else u.push(t);return new i({html:u.join("")}).on("popupopen",function(){var a=n(document),w=a.height(),v=a.width(),f=n(r),y=f.height(),b=f.width(),s=f.offset().top,k=f.offset().left,p=k+b/2,u=n(this.popup).addClass(agilelite.options.classPre+"popover"),h=n(u.find("."+agilelite.options.classPre+"popover-angle").get(0)),e=h.height()/2,d=Math.ceil((h.width()-2)*Math.sqrt(2)),c=u.height(),l=u.width(),g=w-c-y<0&&s>c?"up":"down",i={},o={};g=="up"?(i.top=s-(c+e),o.bottom=-e+4):(i.top=s+(y+e),o.top=-e+4);i.left=p-l/2;i.left+l>=v-4?i.left=v-l-4:i.left<4&&(i.left=4);o.left=p-i.left-d/2;u.css(i);h.css(o);u.find("."+agilelite.options.classPre+"popover-items li").each(function(i,r){n(r).on(agilelite.options.clickEvent,function(){t[i]&&t[i].handler&&t[i].handler.call(r)})})}).open()};for(f in r)agilelite.register(f,r[f])}(agilelite.$),function(n){var t={index:0,process:[],map:{}},r=function(i){var f=t.index++,r={id:"__toast__"+f,isBlock:!1,duration:2e3,css:"",text:""},e,u;if(n.extend(r,i),t[r.id])return this;e=t.map[r.id]=this;u=this.toast=n('<div id="'+r.id+'" class="agile-toast"><a>'+r.text+"<\/a><\/div>").appendTo("body");u.addClass(r.css);this.options=r;t.process.push(this)},i,u;r.prototype.show=function(){if(t.process.length>0&&t.process[0]!=this)return this;var n=this.toast,i=this.options,r=this;return n.css({display:"block"}),agilelite.anim.run(n,"scaleIn",function(){i.isBlock==!1&&setTimeout(function(){r.hide()},i.duration)}),this};r.prototype.hide=function(){var n=this.toast,i=this.options;return agilelite.anim.run(n,"scaleOut",function(){n.remove();delete t.map[i.id];t.process.shift();t.process.length>0&&t.process[0].show()}),this};agilelite.register("Toast",r);i={};i.showToast=function(n,t){new r({text:n,duration:t}).show()};i.alarmToast=function(n,t){new r({text:n,duration:t,css:"alarm"}).show()};i.clearToast=function(){n(".agile-toast").remove();t.map={};t.process=[]};i.getAllToasts=function(){return t.process};for(u in i)agilelite.register(u,i[u])}(agilelite.$),function(n){var r={},t={},i;t.modalCache=function(){var t={};n(document).on("modalshow",'[data-role="modal"]',function(){t[this.id]=this.id});n(document).on("modalhide",'[data-role="modal"]',function(){delete t[this.id];var i;for(i in t);i&&n("#"+i).trigger("modalshow")});n(document).on("modalback",function(){var n;for(n in t);agilelite.Controller.modal("#"+n)})};t.clickHandler=function(){n(document).on(agilelite.options.clickEvent,"[data-click]",function(){var clickFunc=n(this).data("click"),_this=this;return clickFunc?eval(clickFunc.replace(".(",".call(_this")):!0})};t.back=function(){n(window).on("popstate",function(){agilelite.Controller.back(!1);return})};t.removeCache=function(){var i=function(){var t=n(this);t.data("scroll")&&agilelite.Scroll(t).destroy();t.find('[data-scroll],[data-role="slider"]').each(function(){agilelite.Scroll(this).destroy()});t.remove()},r=agilelite.Controller.get(),u=n(document),t;for(t in r){t=t=="default"?"view":t;u.on(t+"hide",'[data-cache="false"][data-role="'+t+'"]',i)}};t.backEvent=function(){var r=function(t,i){i&&n(t).data("params",agilelite.JSON.stringify(i))},t,i;n(document).on(agilelite.options.backEvent,function(t,i){agilelite.pop.hasPop?Boolean(agilelite.pop.hasPop.data("block"))==!1&&agilelite.closePopup():n('[data-role="modal"].active').length>0?(r('[data-role="section"].active:first',i),n(document).trigger("modalback")):agilelite.pop.hasAside?(r('[data-role="section"].active:first',i),agilelite.Controller.aside()):agilelite.Controller.get("section").history.length<2?n(document).trigger("beforeunload"):(i&&n('[data-role="section"].active:first').data("back-params",agilelite.JSON.stringify(i)),window.history.go(-1))});t=[];i=function(){if(t.length==1){var n=t[0][0],r=t[0][1];agilelite.anim.change(n,r,!0,function(){t.shift();var u=r.data("role");r.addClass("active").trigger(u+"show");n.removeClass("active").trigger(u+"hide");n.find(":focus").blur();setTimeout(i,100)})}};n(document).on("sectiontransition",function(r,u,f){n(".agile-popup").each(function(){new agilelite.Popup({id:this.id}).close()});agilelite.pop.hasAside&&agilelite.Controller.aside();n('[data-role="modal"].active').each(function(){agilelite.Controller.modal("#"+this.id)});t.push([u,f]);i()})};t.zepto=function(){if(agilelite.options.clickEvent!="click")n(document).on("click","a[data-toggle]",function(){return!1});if(n==window.Zepto){n(document).on("swipeLeft",'[data-aside-right],[data-role="calendar"],.swipe_block',function(){n(this).trigger("swipeleft")});n(document).on("swipeRight",'[data-aside-left],[data-role="calendar"],.swipe_block',function(){n(this).trigger("swiperight")})}};i=function(){n(document).off("sectionload.agilestart").on("sectionload.agilestart","section",function(){var t=n(this),i=t.children(":first-child, :last-child").not('[data-role="article"], [data-boundary="false"]');i.off("touchmove.agilestart").on("touchmove.agilestart",function(n){n.preventDefault()});if(t.data("aside-left"))t.off("swiperight.agilestart").on("swiperight.agilestart",function(){agilelite.Controller.aside(t.data("aside-left"))});if(t.data("aside-right"))t.off("swipeleft.agilestart").on("swipeleft.agilestart",function(){agilelite.Controller.aside(t.data("aside-right"))})});var i=agilelite.Controller.get().section.container+' [data-role="section"]',t=n(i+".active:first");if(t.length==0&&(t=n(i).first()),agilelite.options.usePageParam)t.children("article.active").off("articleload.agilestart").on("articleload.agilestart",function(){var n=agilelite.JSON.parse(agilelite.pageInfo),i;n&&t.attr("id")!=n.hash&&(i=n.url||n.hash+".html?"+agilelite.JSON.toParams(n.params),setTimeout(function(){agilelite.Controller.section(i)},1e3))});agilelite.Controller.section(t.attr("id")+".html?"+agilelite.JSON.toParams(agilelite.JSON.parse(t.data("params"))))};t.agileStart=function(){var t=!0;n(document).on(agilelite.options.agileReadyEvent,function(){i()});n(document).on(agilelite.options.agileStartEvent,function(){if(t){t=!1;return}i()})};t.initComponents=function(){n(document).on("sectionshow","section",function(){agilelite.Controller.article("#"+n(this).children('[data-role="article"].active').first().attr("id"))});n(document).on("modalshow",".modal",function(){agilelite.Controller.article("#"+n(this).children('[data-role="article"].active').first().attr("id"))});n(document).on("slidershow",'[data-role="page"].active',function(){var t=n(this).attr("id");agilelite.Component.default(n('[href="#'+t+'"]'))});n(document).on("renderEnd","script",function(t,i){agilelite.options.autoInitCom&&agilelite.Component.initComponents(i);var r=n(i).closest("[data-scroll]");r.length==1&&agilelite.Scroll("#"+r.attr("id")).refresh()});n(document).on("modalhide","div.modal",function(){i()});n(document).on("scrollInit",'[data-scroll], [data-role="slider"]',function(){agilelite.Component.lazyload(this)});n(document).on("touchstart",'[data-readonly="true"]',function(){return!1});n(document).on("articleload",'article[data-role="article"]',function(){var t=n(this);if(t.data("scroll"))t.on("click","summary",function(){setTimeout(function(){agilelite.Scroll(t).refresh()},200)});else{t.on("scrollEnd",function(){agilelite.Component.lazyload(t)});agilelite.util.jquery.scrollEnd(t)}})};r.add=function(i){n.extend(t,i||{})};r.launch=function(){for(var n in t)t[n]()};agilelite.register("event",r)}(agilelite.$),function(n){var t=function(t){this.$el=n(t)},i;t.prototype.getTemplate=function(n){var t=this.$el,i=t.attr("src"),r=t.html().trim();r?n&&n(r):i?agilelite.util.getHTML(agilelite.util.script(i),function(i){t.text(i);n&&n(i)}):n&&n("")};t.prototype.render=function(n,t){var r,u,i;if(typeof n=="object"&&(r=n,n=""),!r&&!n){t&&t();return}if(u=this.$el.html().trim(),r&&u){i="";try{i=template.compile(u)(r)}catch(f){}return t&&t(i,u,r),i}this.getTemplate(function(u){if(n)agilelite.util.ajax({url:n,dataType:"json",success:function(n){var r=template.compile(u);i=r(n);t&&t(i,u,n)},error:function(){t&&t()}});else{var f=template.compile(u);i=f(r);t&&t(i,u,r)}})};i=function(t,i,r){var u=this.$el;this.render(i,function(i,f,e){var h=u,l=u.attr("id"),c="#"+u.attr("id"),s=u.parent().find('[__inject_dependence__="'+c+'"]'),o;t=="replace"?s.remove():t=="after"?h=s.length==0?u:s.last():t=="before";o=n(i).attr("__inject_dependence__",c);h.after(o);r&&r(o,f,e);u.trigger("renderEnd",[o])})};t.prototype.renderReplace=function(n,t){i.call(this,"replace",n,t)};t.prototype.renderAfter=function(n,t){i.call(this,"after",n,t)};t.prototype.renderBefore=function(n,t){i.call(this,"before",n,t)};agilelite.register("template",function(n){return new t(n)})}(agilelite.$),function(){var n={};n.parse=function(str){try{return eval("("+str+")")}catch(e){return null}};n.stringify=function(n){var t=[],i;if(typeof n=="string")return'"'+n.replace(/([\'\"\\])/g,"\\$1").replace(/(\n)/g,"\\n").replace(/(\r)/g,"\\r").replace(/(\t)/g,"\\t")+'"';if(typeof n=="undefined")return"";if(typeof n!="object")return n.toString();if(n===null)return null;if(n instanceof Array){for(i=0;i<n.length;i++)t.push(this.stringify(n[i]));t="["+t.join()+"]"}else{for(i in n)t.push('"'+i+'":'+this.stringify(n[i]));t="{"+t.join()+"}"}return t};n.toParams=function(n){var f=[],r,u,t,i;for(r in n){for(u=[],t=n[r],t=t instanceof Array?t:[t],i=0;i<t.length;i++)u.push(t[i]);f.push(r+"="+u.join(","))}return f.join("&")};agilelite.register("JSON",n)}(),function(){var n={table:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],UTF16ToUTF8:function(n){for(var r=[],e=n.length,t,u,f,i=0;i<e;i++)if(t=n.charCodeAt(i),t>0&&t<=127)r.push(n.charAt(i));else if(t>=128&&t<=2047)u=192|t>>6&31,f=128|t&63,r.push(String.fromCharCode(u),String.fromCharCode(f));else if(t>=2048&&t<=65535){var u=224|t>>12&15,f=128|t>>6&63,o=128|t&63;r.push(String.fromCharCode(u),String.fromCharCode(f),String.fromCharCode(o))}else t>=65536&&t<=2097151||t>=2097152&&t<=67108863;return r.join("")},UTF8ToUTF16:function(n){for(var r=[],s=n.length,t=0,i,t=0;t<s;t++)if(i=n.charCodeAt(t),(i>>7&255)==0)r.push(n.charAt(t));else if((i>>5&255)==6){var u=n.charCodeAt(++t),f=(i&31)<<6,e=u&63,o=f|e;r.push(Sting.fromCharCode(o))}else if((i>>4&255)==14){var u=n.charCodeAt(++t),h=n.charCodeAt(++t),f=i<<4|u>>2&15,e=(u&3)<<6|h&63;o=(f&255)<<8|e;r.push(String.fromCharCode(o))}else(i>>3&255)==30||(i>>2&255)==62;return r.join("")},encode:function(n){var r,u,o;if(!n)return"";for(var f=this.UTF16ToUTF8(n),i=0,e=f.length,t=[];i<e;){if(r=f.charCodeAt(i++)&255,t.push(this.table[r>>2]),i==e){t.push(this.table[(r&3)<<4]);t.push("==");break}if(u=f.charCodeAt(i++),i==e){t.push(this.table[(r&3)<<4|u>>4&15]);t.push(this.table[(u&15)<<2]);t.push("=");break}o=f.charCodeAt(i++);t.push(this.table[(r&3)<<4|u>>4&15]);t.push(this.table[(u&15)<<2|(o&192)>>6]);t.push(this.table[o&63])}return t.join("")},decode:function(n){if(!n)return"";for(var r=n.length,t=0,i=[];t<r;)code1=this.table.indexOf(n.charAt(t++)),code2=this.table.indexOf(n.charAt(t++)),code3=this.table.indexOf(n.charAt(t++)),code4=this.table.indexOf(n.charAt(t++)),c1=code1<<2|code2>>4,c2=(code2&15)<<4|code3>>2,c3=(code3&3)<<6|code4,i.push(String.fromCharCode(c1)),code3!=64&&i.push(String.fromCharCode(c2)),code4!=64&&i.push(String.fromCharCode(c3));return this.UTF8ToUTF16(i.join(""))}};agilelite.register("Base64",{encode:function(t){try{return n.encode(t)}catch(i){return""}},decode:function(t){try{return n.decode(t)}catch(i){return""}}})}();$native=function(){var n={},t;return n.showMask=function(n){t=t||new ProgressBar;t.setMessage("加载中");t.show();n&&n()},n.hideMask=function(n){t&&t.cancel();n&&n()},n.alert=function(n,t){ExMobiWindow.alert(n,function(){t&&t()})},n.confirm=function(n,t,i){ExMobiWindow.confirm(n,function(){t&&t()},function(){i&&i()})},n.toast=function(n){var t=new Toast,i=2e3;t.setDuration(i);t.setText(n);t.show();setTimeout(function(){t=null},i)},n.close=function(n){n?nativePage.executeScript('PageUtil.getWindowById("'+n+'").close()'):ExMobiWindow.close()},n.openWebView=n.openWebview=function(n,t,i){var u=A.util.parseURL(n),e=u.getURL(),s,f,h;u.getProtocol().indexOf("http")==-1&&(s=location.href,f=s.split("/"),f[f.length-1]=e,e=f.join("/"));h=u.getFragment()||u.getFilename();i=i||"slideleft";var o={none:!0,slideright:"slideleft",slideleft:"slideright",slidedown:"slideup",slideup:"slidedown",zoom:!0,fade:!0,curlup:!0},c=o[i]?"openanimation:"+i+";closeanimation:"+(o[i]==!0?i:o[i])+";":"",r=[];r.push('<html id="'+h+'" isbridge="true" style="'+c+'">');r.push("<head>");r.push('<meta charset="UTF-8"/>');r.push('<title show="false">agile<\/title>');r.push("<script>");r.push("<![CDATA[");r.push("]\]>");r.push("<\/script>");r.push("<\/head>");r.push('<body style="margin:0px;padding:0px;">');r.push('<webview id="browser" url="'+e.replace(/\&/g,"&amp;")+'" backmonitor="true"/>');r.push("<\/body>");r.push("<\/html>");ExMobiWindow.openData(r.join(""),t,!1,"",u.getQuerystring())},n.openNativePage=function(n,t){ExMobiWindow.open(n,t)},n.openDateTimeSelector=function(n){var i={mode:"date",val:"",callback:null},t;$.extend(i,n);t=new TimeWindow;t.mode=i.mode;t.initialvalue=i.val;t.onCallback=function(){var n=t.isSuccess()?t.result:null;i.callback&&i.callback(n);t=null};t.startWindow()},n.openDecodeScan=function(n){var t=new Decode;t.onCallback=function(){var i=t.isSuccess()?t.result:null;n&&n(i);t=null};t.startDecode()},n.openFileSelector=function(n){var t={filter:null,path:null,callback:null},i;$.extend(t,n);i=new FileChoice;t.filter&&(i.filter=t.filter);t.path&&(i.defaultPath=t.path);i.onCallback=function(n){t.callback&&t.callback(n);i=null};i.start()},n.openImgSelector=function(n){var t=new ImageChoice;t.onCallback=function(){n&&n(t.getFilePaths());t=null};t.start()},n.openCameraSelector=function(n){var i={mode:"still",callback:null},t;$.extend(i,n);t=new CameraWindow;t.mode=i.mode;t.onCallback=function(){var n=t.isSuccess()?t.value:null;i.callback&&i.callback(n);t=null};t.startCamera()},n.openFileGroupSelector=function(n){A.actionsheet([{text:"拍照",handler:function(){$native.openCameraSelector({callback:function(t){n&&n(t?[t]:null)}})}},{text:"照片",handler:function(){$native.openImgSelector(function(t){n&&n(t)})}}],"alizarin")},n._appinfo,n.getAppSetting=function(){var n,t;if($native._appinfo)return $native._appinfo;try{if(n={},typeof ClientUtil=="undefined"){var u=location.protocol,i=location.port,r=location.host.replace(":"+i,""),t=u+"//"+r+":"+i;n.ip=r;n.port=i;n.domain=t}else n=ClientUtil.getSetting(),t="http://"+n.ip+":"+n.port,n.domain=t;return $native._appinfo=n,n}catch(f){return{}}},n.getParameter=function(n){return ExMobiWindow.getParameter(n)},n.getParameters=function(){return ExMobiWindow.getParameters()},n.session=function(){if(arguments.length==1)try{return JSON.parse(ExMobiWindow.getStringSession(arguments[0]))}catch(t){return ExMobiWindow.getStringSession(arguments[0])}else if(arguments.length==2){var n=arguments[1]||"";try{return ExMobiWindow.setStringSession(arguments[0],JSON.stringify(n))}catch(t){return ExMobiWindow.setStringSession(arguments[0],n)}}else return null},n.cache=function(){var n,t;if(n=arguments[0],arguments.length==2){t=arguments[1]||"";try{CacheUtil.setCache(n,A.JSON.stringify(t))}catch(i){CacheUtil.setCache(n,t.toString())}}else try{return A.JSON.parse(CacheUtil.getCache(n))}catch(i){return CacheUtil.getCache(n)}},n.exit=function(n){n?ClientUtil.exit(n):ClientUtil.exitNoAsk()},A.util.readyAlarm(n,"$native","plusready")}();$util=function(){var n={};return n._cacheMap={index:0},n.queryJSON=function(query){if(!query)return{};try{var properties=query.replace(/&/g,"',").replace(/=/g,":'")+"'",obj=null,template="var obj = {p}";eval(template.replace(/p/g,properties))}catch(e){return{}}return obj==null?{}:obj},n._showPageLoading=!1,n.go=function(n,t){var i,r,u;n&&n.url&&(n.url=A.util.script(n.url),i={},i.url=n.url,i.method=n.type=n.type&&n.type.toLowerCase()=="post"?"post":"get",n.data&&(i.data=n.data),i.successFunction="$util._ajax_successFunction",i.failFunction="$util._ajax_errorFunction",n.headers&&(i.requestHeader=n.headers),i.isBlock=n.isBlock=n.isBlock==!0?!0:!1,i.timeout=n.timeout?n.timeout/1e3:20,i.reqCharset=n.reqCharset||"utf-8",r=new t(i),u=$util._cacheMap.index++,$util._cacheMap["_ajax_opts_key_"+u]=n,r.setStringData("_ajax_opts_key_",u),$util._showPageLoading=A.options.showPageLoading||$util._showPageLoading,!i.isBlock&&$util._showPageLoading&&A.showMask(),r.send())},n._ajax_successFunction=function(n){var t=$util._ajax_getFunction(n);typeof t.result=="undefined"?t.error&&t.error(n,"500"):t.success&&t.success(t.result)},n._ajax_errorFunction=function(n){var t=$util._ajax_getFunction(n);t.error&&t.error(n,n.status)},n._ajax_getFunction=function(ajax){var result=ajax.responseText,index=ajax.getStringData("_ajax_opts_key_"),opts=$util._cacheMap["_ajax_opts_key_"+index];if(opts.dataType=opts.dataType&&opts.dataType.toLowerCase()=="json"?"json":"text",opts.dataType=="json")try{opts.result=eval("("+result+")")}catch(e){delete opts.result}else opts.result=ajax.responseText;return delete $util._cacheMap["_ajax_opts_key_"+index],!opts.isBlock&&$util._showPageLoading&&A.hideMask(),opts},n.server=function(n){$util.go(n,Ajax)},n.ajax=function(n){$util.go(n,DirectAjax)},n.form=function(n,t){var i,r,u,f,e;if(n&&n.url){if(n.type=n.type||"post",n.data){for(i=$util.paramsToJSON(n.data),r=typeof n.fileElementId=="object"?n.fileElementId.join():r,r=","+(r?r:"")+",",u=0;u<i.length;u++){f={};for(e in i[u])f.name=e,f.value=i[u][e];f.type=r.indexOf(","+f.name+",")==-1?0:1;i[u]=f}n.data=i}$util.go(n,t||DirectFormSubmit)}},n.serverForm=function(t){n.form(t,FormSubmit)},n.paramsToJSON=function(n){var t=[];return!n||typeof n!="string"?[]:(n.replace(/(\w+)=(\w+)/ig,function(n,i,r){var u={};u[i]=unescape(r);t.push(u)}),t)},A.util.readyAlarm(n,"$util","plusready")}(),function(){A.event.add({exmobiOnstart:function(){$(document).on("onstart",function(){$(document).trigger(A.options.agileStartEvent)})},renderEnd:function(){$(document).on("renderEnd","script",function(n,t){var i=t;A.Component.toggle(i);A.Component.formcheck(i);A.Component.datetime(i);A.Component.scanning(i);A.Component.file(i)})},beforeunload:function(){$(document).on("beforeunload",function(){A.Controller.close()})}});A.Controller.add({nativepage:{selector:'[data-toggle="nativepage"]',handler:function(n,t){var i=$(t),r=i.attr("target")=="_self"?!1:!0;$native.openNativePage(n,r)}},exit:{selector:'[data-toggle="exit"]',handler:function(){$native.exit("是否退出程序？")}},close:{selector:'[data-toggle="close"]',handler:function(){try{ExMobiWindow;$native.close()}catch(n){history.go(-1)}}},html:{selector:'[data-toggle="html"]',handler:function(n,t){try{ExMobiWindow;var i=$(t),r=i.attr("target")=="_self"?!1:!0,u=i.data("transition")||"";$native.openWebview(n,r,u)}catch(f){location.href=A.util.parseURL(n).getURL()}}}});A.Component.add({datetime:{selector:'[data-role="article"].active',event:"articleload",handler:function(n){var t=$(n),u=function(n){var u={open:function(){n.trigger(A.options.clickEvent)},clear:function(){n.find("label").html(n.data("placeholder")||"");n.find("input").val("")}},i,t,r;if(A.Component.isInit(n))return u;i=n.find("label");i.length==1?(t=n.find("input"),r=i.html()):(t=n,r="");n.data("placeholder",r);n.on(A.options.clickEvent,function(u){function o(){e({date:"",str:""})}function e(u){var s=u.date,f=u.str,e,o;if(t.val()!=f){if(i.html(f?f:r),t.val(f||""),e=n.trigger("datachange",[f||""]).data("change"),!e)return;o=function(){try{eval(e)}catch(e){console.log(e)}};o.apply(t[0])}}function h(){var r=null,i=t.val().split(":"),n=new Date;return r=i.length==2?new Date(n.getFullYear(),n.getMonth(),n.getDate(),parseInt(i[0],10),parseInt(i[1],10),0):n,f.select(r,function(n){e({date:n.date,str:n.timeString})}),!1}function c(){var i=null,n=t.val().split("-");return i=n.length==3?new Date(n[0],parseInt(n[1])-1,n[2]):new Date,f.select(i,function(n){e({date:n.date,str:n.dateString})})}var s=n.data("role")||n.attr("type"),f;return s=="time"?(f=A.Timepicker({hasSecond:!1,isCustomLeftButton:!0,customLeftButtonName:"清除",customLeftButtonCallback:o}),h(u)):s=="date"&&(f=A.Datepicker({hasClear:!0,isCustomLeftButton:!0,customLeftButtonName:"清除",customLeftButtonCallback:o}),c(u)),!1});return i.html(t.val()||r),u},r,i;if(t.data("role")=="date"||t.data("role")=="time"||t.attr("type")=="date"||t.attr("type")=="time")return u(t);for(r=t.find('[data-role="date"],[data-role="time"],input[type="date"],input[type="time"]'),i=0;i<r.length;i++)u($(r[i]))},extend:{open:function(){this.trigger(A.options.clickEvent)},clear:function(){var n=this;n.find("label").html(n.data("placeholder")||"");n.find("input").val("")}}},scanning:{selector:'[data-role="article"].active',event:"articleload",handler:function(n){var t=$(n),u=function(n){var t=n.find("label"),i=n.find("input"),r=t.html();n.on(A.options.clickEvent,function(){return $native.openDecodeScan(function(str){var _iptVal=i.val();t.html(str?str:r);i.val(str||"");str&&_iptVal!=str&&n.data("change")&&eval(n.data("change"))}),!1});t.html(i.val()||r)},r,i;if(t.data("role")=="barcode"||t.data("role")=="qrcode")u(t);else for(r=t.find('[data-role="barcode"],[data-role="qrcode"]'),i=0;i<r.length;i++)u($(r[i]))}},file:{selector:'[data-role="article"].active',event:"articleload",handler:function(n){var i=$(n),u=function(n){var t=n.find("label"),i=n.find("input"),r=t.html();n.on(A.options.clickEvent,function(){return $native.openFileGroupSelector(function(str){str=str?str.join(";"):"";var flag=!1;str&&i.val()!=str&&n.data("change")&&(flag=!0);t.html(str?str:r);i.val(str||"");flag&&eval(n.data("change"))}),!1});t.html(i.val()||r)},r,t;if(i.data("role")=="file")u(i);else for(r=i.find('[data-role="file"]'),t=0;t<r.length;t++)u($(r[t]))}}})}();A.launch({readyEvent:"ready",backEvent:"backmonitor",crossDomainHandler:function(n){$util.server(n)},iScrollOptions:{click:!0}});$(document).on(A.options.clickEvent,"#ratchet_form_article span",function(){return A.alert("提示",$(this).attr("class").replace(/.* /,"")),!1})