<?php
//decode by http://www.sucaihuo.com/
namespace app\home\model; use think\Exception; use think\Log; use think\Model; class Base extends \app\admin\model\Base { public static function addInfo($data){ if(!check_array($data)){ return false; } try{ $data['create_time'] = TIMESTAMP; return self::insertGetId($data); }catch (Exception $e){ Log::error(__FILE__.':'.__LINE__.' 错误：'.$e->getMessage()); return false; } } public static function updateInfoById($id,$data){ if(!check_id($id) || !check_array($data)){ return false; } try{ $data['id'] = $id; $data['update_time'] = TIMESTAMP; return self::update($data); }catch (Exception $e){ Log::error(__FILE__.':'.__LINE__.' 错误：'.$e->getMessage()); return null; } } public static function getInfoById($id){ if(!check_id($id)){ return null; } try{ return self::get(['id' => $id]); }catch (Exception $e){ Log::error(__FILE__.':'.__LINE__.' 错误：'.$e->getMessage()); return null; } } public static function deleteByIds($ids){ if(empty($ids) || !is_array($ids)){ return false; } try{ return self::where(['id'=>['in',$ids]])->delete(); }catch (Exception $e){ Log::error(__FILE__.':'.__LINE__.' 错误：'.$e->getMessage()); return null; } } }